## 51WORLD仿真激光雷达数据集解析工具

<font face="华文仿宋" size="4" color="black">
　　为了方便大家使用51WORLD仿真激光雷达数据集，这里先对51WORLD激光雷达点云数据格式进行说明，同时提供了一份解析代码，将仿真激光雷达数据集转换为kitti激光雷达数据集的格式，方便大家算法接入。
</font> 

### 51WORLD仿真激光雷达数据集格式说明
<font face="微软雅黑" size="5" color="black">1\. PCD版本</font> 

<font face="华文仿宋" size="4" color="black">
　　在51WORLD仿真激光雷达数据集用到的PCD文件格式的正式发布是0.7版，即PCD_V7。头文件及部分点云数据如下所示</font>        

<font face="微软雅黑" size="5" color="black">2\. 文件格式</font> 

<font face="华文仿宋" size="4" color="black">
　　PCD文由 “头文件 + 点云数据” 构成，头文件声明了该点云数据集的基本特性。下面以PCD_V7版本的PCD文件为例，对头文件进行介绍。头文件及部分点云数据如下所示：
</font> 

```C++
# .PCD v0.7 - Point Cloud Data Generated By 51Sim-One
VERSION 0.7
FIELDS x y z rgb intensity segmentation ring angle
data_columns_type:x y z rgb intensity segmentation ring angle
SIZE 4 4 4 4 1 1 1 1
TYPE F F F U U U U U
COUNT 1 1 1 1 1 1 1 1
WIDTH 110341
HEIGHT 1
VIEWPOINT 0 0 0 1 0 0 0
POINTS 110341
DATA binary
```

<font face="微软雅黑" size="5" color="black">3\. VERSION</font>
<font face="华文仿宋" size="4" color="black">
　　指定PCD文件的版本，由0.7可知该点云数据集是0.7版本的。</font>
```C++
VERSION 0.7 //PCD版本号为0.7版
```

<font face="微软雅黑" size="5" color="black">4\. FIELDS</font>
<font face="华文仿宋" size="4" color="black">
　　指定本点云数据集中任意一个点可以有的维度信息和其他附加信息。如：FIELDS x y z 指每个点都有xyz三个维度信息，FIELDS x y z rgb 指每个点除了xyz维度信息外还有颜色信息等。</font>
```C++
FIELDS x y z  //该数据集中包含每一个点的xyz纬度信息
```

<font face="微软雅黑" size="5" color="black">5\. SIZE</font>
<font face="华文仿宋" size="4" color="black">
　　储存每个维度信息占用的字节数(byte)。1指用char型数据存储维度信息，2指用short型数据存储维度信息，4指用int或float型数据存储维度信息，8指用double型数据存储维度信息。</font>
```C++
SIZE 4 4 4  //x y z每个维度均占用4个字节
```

<font face="微软雅黑" size="5" color="black">6\. TYPE</font>
<font face="华文仿宋" size="4" color="black">
　　用字符指定每一个维度的数据类型。I表示有符号类型：int8(char),int16(short),int32(int);U表示无符号类型：uint8(unsigned char),uint 16(unsigned short),uint32(unsigned int);F表示浮点型float和double。</font>
```C++
TYPE F F F  //x y z每个维度的均为4字节的浮点型，即为float
```

<font face="微软雅黑" size="5" color="black">7\. COUNT</font>
<font face="华文仿宋" size="4" color="black">
　　指定每个维度包含的元素个数。</font>
```C++
COUNT 1 1 1  //x y z每个维度均包含1个元素
```
<font face="微软雅黑" size="5" color="black">8\. WIDTH</font>
<font face="华文仿宋" size="4" color="black">
　　点云数据集可分为有序数据集和无序数据集两种。有序数据集类似矩阵，有行列之分，无序数据集则无行列之分。根据数据集是否有序，WIDTH由不同的含义。
* 对有序数据集而言：表示数据集的宽度(每行点的数目)；
* 对于无序数据集而言：表示数据集中点的总数(和下面的POINTS一样)。</font>
```C++
COUNT 1 1 1  //x y z每个维度均包含1个元素  
```

<font face="微软雅黑" size="5" color="black">9\. HEIGHT</font>
<font face="华文仿宋" size="4" color="black">
　　根据数据集是否有序，HEIGHT有不同的含义。
* 对有序数据集而言：表示数据集的高度(行数)；
* 对于无序数据集而言：被设置为1，用于声明一个数据集是否有序。</font>
<font face="华文仿宋" size="4" color="red">
[注意]51WORLD仿真激光雷达数据集为无序数据集，点的个数为WIDTH*HEIGHT
</font>

<font face="微软雅黑" size="5" color="black">10\. VIEWPOINTS</font>
<font face="华文仿宋" size="4" color="black">
　　数据集中点云的获取视点。视点信息被指定为“平移(txtytz) + 四元数</font>(qwqxqyqz)”,默认值是：VIEWPOINT 0 0 0 1 0 0 0
```C++
VIEWPOINT 0 0 0 1 0 0 0  //数据集的获取视点
```

<font face="微软雅黑" size="5" color="black">11\. POINTS</font>
<font face="华文仿宋" size="4" color="black">
　　点云中点的总数</font>
```C++
POINTS 110341  //该数据集中共有110341个点
```

<font face="微软雅黑" size="5" color="black">12\. DATA</font>
<font face="华文仿宋" size="4" color="black">
　　指定存储点云数据的数据存储格式：ASCLL码或二进制数据。</font>
```C++
DATA ascii   //该数据集用ASCLL码存储数据
DATA binary  //该数据集用binary码存储数据
```

### 51WORLD仿真激光雷达数据集解析工具使用方法
#### windows 使用方法
<font face="华文仿宋" size="4" color="black">

  1. 直接运行该文件下的build.bat文件，生成可执行文件PcdToBin.exe以及存放转化为bin格式的文件夹pcd_bin
  2. 双击PcdToBin.exe，转化为bin格式的点云数据会放在当前文件夹下的pcd_bin中
#### Ubuntu 使用方法
1. 执行脚本 ./build.sh ，生成可执行文件PcdToBin以及存放转化为bin格式的文件夹pcd_bin
2. 执行PcdToBin，转化为bin格式的点云数据会放在当前文件夹下的pcd_bin中
</font>



    

